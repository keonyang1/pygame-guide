# **색상 다루기**

> <span class="caution">※ RGB 색상은 0~255 범위의 정수로 지정합니다. ※</span>

---

## <span class="title">RGB 색상 지정</span>

<pre><code><span class="v">color</span> = <span class="pf">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span><span class="pf">)</span> <span class="c"># 빨강 (Red)</span></code></pre>

RGB는 **Red, Green, Blue**의 세 가지 값을 조합하여 색을 표현합니다.  
각 값은 **0~255** 사이의 정수입니다.  

예시:

* <span style="color:#ff4d4d;">(255, 0, 0)</span> → 빨강
* <span style="color:#4dff4d;">(0, 255, 0)</span> → 초록
* <span style="color:#4d4dff;">(0, 0, 255)</span> → 파랑
* (255, 255, 255) → 흰색
* (0, 0, 0) → 검정

---

## <span class="title">미리 정의된 색상 이름 사용</span>

<pre><code><span class="v">screen</span>.<span class="f">fill</span><span class="pf">(</span><span class="s">"skyblue"</span><span class="pf">)</span></code></pre>

pygame은 **일부 색상 이름 문자열**도 지원합니다.  
예를 들어 `"red"`, `"green"`, `"blue"`, `"white"`, `"black"` 등을 사용할 수 있습니다.  

> ⚠️ 단, 모든 이름이 지원되는 것은 아니므로 주로 RGB 방식을 권장합니다.

---

## <span class="title">색상 상수로 정의하기</span>

<pre><code><span class="vb">WHITE</span> = <span class="pf">(</span><span class="n">255</span>, <span class="n">255</span>, <span class="n">255</span><span class="pf">)</span>
<span class="vb">BLACK</span> = <span class="pf">(</span><span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span><span class="pf">)</span>
<span class="vb">RED</span> = <span class="pf">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span><span class="pf">)</span>
<span class="vb">BLUE</span> = <span class="pf">(</span><span class="n">0</span>, <span class="n">0</span>, <span class="n">255</span><span class="pf">)</span></code></pre>

이처럼 미리 정의해두면 나중에 코드에서 보기 쉽고, 유지보수가 편해집니다.  

예시:
<pre><code><span class="l">pygame</span>.<span class="l">draw</span>.<span class="f">circle</span><span class="pf">(</span><span class="v">screen</span>, <span class="vb">RED</span>, <span class="pg">(</span><span class="n">200</span>, <span class="n">200</span><span class="pg">)</span>, <span class="n">50</span><span class="pf">)</span></code></pre>

---

## <span class="title">투명도(Alpha) 값 사용</span>

<pre><code><span class="v">color_with_alpha</span> = <span class="pf">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">128</span><span class="pf">)</span> <span class="c"># 빨강 + 반투명</span></code></pre>

RGBA에서 마지막 값인 **Alpha(0~255)** 는 투명도를 의미합니다.  
`0`은 완전 투명, `255`는 완전 불투명입니다.  

---

### 왜 그냥 `pygame.draw.rect(screen, (R,G,B,A), ...)`은 안 되는가?
pygame.draw 계열 함수들은 **대상 Surface에 직접 픽셀을 그리는 함수**이며, 일반적으로 **색상 튜플의 알파 채널을 무시**합니다.  
따라서 아래처럼 쓰면 알파가 적용되지 않고 불투명하게 그려집니다.  

<pre><code><span class="l">pygame</span>.<span class="l">draw</span>.<span class="f">rect</span><span class="pf">(</span><span class="v">screen</span>, <span class="pg">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">128</span><span class="pg">)</span>, <span class="pg">(</span><span class="n">100</span>, <span class="n">100</span>, <span class="n">200</span>, <span class="n">150</span><span class="pg">)</span><span class="pf">)</span> <span class="c"># → 알파 무시됨</span></code></pre>

---

### 올바른 방법 1 — **전체 Surface 투명도**: `set_alpha()` 사용  
Surface 전체의 투명도를 한 번에 조절하고 싶을 때 사용합니다. 간단하고 빠르지만, Surface 내의 픽셀별 알파는 불가능합니다.

<pre><code><span class="v">s</span> = <span class="l">pygame</span>.<span class="l">Surface</span><span class="pf">(</span><span class="pg">(</span><span class="n">200</span>, <span class="n">150</span><span class="pg">)</span><span class="pf">)</span>
<span class="v">s</span>.<span class="f">set_alpha</span><span class="pf">(</span><span class="n">100</span><span class="pf">)</span> <span class="c"># 전체 투명도 설정 (0~255)</span>
<span class="v">s</span>.<span class="f">fill</span><span class="pf">(</span><span class="pg">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span><span class="pg">)</span><span class="pf">)</span> <span class="c"># 내부를 빨강으로 채움</span>
<span class="v">screen</span>.<span class="f">blit</span><span class="pf">(</span><span class="v">s</span>, <span class="pg">(</span><span class="n">100</span>, <span class="n">100</span><span class="pg">)</span><span class="pf">)</span></code></pre>

**특징**

* 사용법이 간단함.
* 모든 픽셀이 동일한 알파를 갖게 됨.
* `set_alpha()`는 Surface 전체에 적용되므로, 픽셀별 투명도 제어가 필요하면 아래 방법을 사용하세요.

---

### 올바른 방법 2 — **픽셀별 투명도(RGBA)**: SRCALPHA + RGBA 사용

픽셀마다 다른 투명도를 적용하려면 `pygame.SRCALPHA` 옵션으로 Surface를 만들고, RGBA 값으로 채웁니다.  

<pre><code><span class="v">s</span> = <span class="l">pygame</span>.<span class="l">Surface</span><span class="pf">((</span><span class="n">200</span>, <span class="n">150</span><span class="pf">)</span>, <span class="l">pygame</span>.<span class="v">SRCALPHA</span><span class="pf">)</span>
<span class="v">s</span>.<span class="f">fill</span><span class="pf">(</span><span class="pg">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">128</span><span class="pg">)</span><span class="pf">)</span> <span class="c"># 빨강 + 반투명(128)</span>
<span class="v">screen</span>.<span class="f">blit</span><span class="pf">(</span><span class="v">s</span>, <span class="pg">(</span><span class="n">100</span>, <span class="n">100</span><span class="pg">)</span><span class="pf">)</span></code></pre>

또는 `pygame.draw`로 도형을 그리고 싶다면 대상이 되는 **SRCALPHA Surface 위에** 그리고 blit 합니다.  

<pre><code><span class="v">s</span> = <span class="l">pygame</span>.<span class="l">Surface</span><span class="pf">((</span><span class="n">200</span>, <span class="n">150</span><span class="pf">)</span>, <span class="l">pygame</span>.<span class="v">SRCALPHA</span><span class="pf">)</span>
<span class="l">pygame</span>.<span class="l">draw</span>.<span class="f">rect</span><span class="pf">(</span><span class="v">s</span>, <span class="pg">(</span><span class="n">255</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">150</span><span class="pg">),</span> <span class="pg">(</span><span class="n">0</span>, <span class="n">0</span>, <span class="n">200</span>, <span class="n">150</span><span class="pg">)</span><span class="pf">)</span>
<span class="v">screen</span>.<span class="f">blit</span><span class="pf">(</span><span class="v">s</span>, <span class="pg">(</span><span class="n">100</span>, <span class="n">100</span><span class="pg">)</span><span class="pf">)</span></code></pre>

**특징**

* 픽셀 단위의 알파(부분 투명도) 구현 가능.  
* `SRCALPHA` Surface는 `convert_alpha()`로 변환하면 성능이 향상될 수 있음.  

---

### 성능 및 주의사항

* 여러 개의 큰 `SRCALPHA` Surface를 매 프레임 새로 생성하고 그리는 작업은 느릴 수 있습니다. 가능하면 Surface를 재사용하세요.  
* `set_alpha()`는 간단하지만, 전체 투명도만 바뀌므로 픽셀별 차등 투명도가 필요하면 `SRCALPHA` 사용이 필수입니다.  
* `pygame.draw`로 메인 Surface에 직접 RGBA 색을 전달하면 알파가 무시되는 경우가 일반적이니, 항상 **별도 Surface → blit** 방식으로 처리하세요.
* 필요 시 `blit(..., special_flags=pygame.BLEND_RGBA_ADD)` 등 블렌딩 플래그로 합성 방식 제어 가능.

---

### 요약

* `RGBA` 튜플 자체는 색을 표현하지만, **메인 Surface에 직접 그리면 알파가 적용되지 않음**.
* 픽셀별 알파를 쓰려면 `pygame.SRCALPHA` Surface를 만들고 RGBA로 채운 뒤 `blit()`하세요.
* 전체 알파는 `set_alpha()`로 간단히 적용 가능.
